name: continuos integration

on:
  push:
    branches:
      - test-ci
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  display:
      name: PR information
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v4
        - name: Check Project Version
          uses: .github/workflows/git.yaml
  summary:
    name: Warning
    runs-on: ubuntu-latest
    steps:
      - name: Summary
        run: |
          echo '### Fique atento em caso de erro em qualquer job! ⚠️' >> $GITHUB_STEP_SUMMARY
          echo 'Além disso, por favor, verifique minuciosamente os logs dentro do job. 📝💻' >> $GITHUB_STEP_SUMMARY
  build:
    name: Build with Java
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Check Project Version
        uses: .github/workflows/build.yaml
  test:
    name: Unit Tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Check Project Version
        uses: .github/workflows/test.yaml
  coverage:
    name: Coverage Tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Check Project Version
        uses: .github/workflows/coverage.yaml
  analysis:
    name: Analysis Quality Gate
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Check Project Version
        uses: .github/workflows/analysis.yaml
  docker_build:
    name: Run and Build with Docker
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Check Project Version
        uses: .github/workflows/build_docker.yaml
  publish:
    name: Publish Image Dockerhub
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Check Project Version
        uses: .github/workflows/publish_docker.yaml
  check_versions:
    name: Project Version
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Check Project Version
        uses: .github/workflows/check_versions.yaml 